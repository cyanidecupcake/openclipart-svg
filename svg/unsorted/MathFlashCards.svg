<svg width="100%" height="100%" viewBox="0 0 270 430"
     xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink">

  <title>Math Flash Cards</title>
  
  <desc>
    Math Flash Cards
    
    15 problems per minute, 4 seconds per problem, answer after 2 seconds
    Select operation by clicking on operator at bottom of problem
    Uses random numbers 1-9, but can be changed by changing variable 'min' below
    for example: min=0 generates random numbers 0-9, min=2 generates random numbers 2-9
    
    Number symbols created from: https://openclipart.org/detail/220752/number-icons
    Number colors from: https://openclipart.org/detail/221916/colorful-numbers
    
    Jay Nick
    STEAMcoded.org
  </desc>

  <script><![CDATA[
    var flashmath = new function()
    {
      var min = 1;  // Minimum random number
      
      var n = new Array("zero","one","two","three","four","five","six","seven","eight","nine");
      var op = new Array("plus","minus","times","divide");
      var n1;
      var n2;
      var idx = 0;
      var operation = "plus";
      var answer;
      
      var node;
      var timerID;
      
      
      window.addEventListener("load", init, false);
      
      function init()
      {
        displayProblem();
        
        document.getElementById("addition").addEventListener("click",selectOperation);
        document.getElementById("subtraction").addEventListener("click",selectOperation);
        document.getElementById("multiplication").addEventListener("click",selectOperation);
        document.getElementById("division").addEventListener("click",selectOperation);
      }
      
      function selectOperation(e)
      {
        id = e.target.getAttribute("id");
        
        if(id=="addition") idx=0;
        if(id=="subtraction") idx=1;
        if(id=="multiplication") idx=2;
        if(id=="division") idx=3;
        
        operation = op[idx];
        document.getElementById("operation").setAttribute("transform","translate("+Number(idx*50)+",0)");
        
        displayProblem();
      }

      function displayProblem()
      {
        clearTimeout(timerID);
        
        document.getElementById("n11").setAttribute("xlink:href","#nothing");
        document.getElementById("a1").setAttribute("xlink:href","#nothing");
        document.getElementById("a0").setAttribute("xlink:href","#nothing");

        n1 = Math.floor(Math.random()*(10-min))+min;
        n2 = Math.floor(Math.random()*(10-min))+min;
        
        switch(operation)
        {
          case "plus":
          {
            answer = n1 + n2;
            break;
          }
          case "minus":
          {
            answer = n1;
            n1 += n2;
            break;
          }
          case "times":
          {
            answer = n1 * n2;
            break;
          }
          case "divide":
          {
            while(n2==0) n2 = Math.floor(Math.random()*10);

            answer = n1;
            n1 *= n2;
            break;
          }
        }

        if(n1>9)
        {
          var nd1 = Math.floor(n1/10);
          var nd0 = Math.floor(n1 - nd1*10);
            
          document.getElementById("n11").setAttribute("xlink:href","#"+n[nd1]);
          document.getElementById("n1").setAttribute("xlink:href","#"+n[nd0]);
        }
        else
        {
          document.getElementById("n1").setAttribute("xlink:href","#"+n[n1]);
        }
        document.getElementById("n2").setAttribute("xlink:href","#"+n[n2]);
        document.getElementById("operator").setAttribute("xlink:href","#"+operation);
        
        timerID = setTimeout(displayAnswer,2000);
      }
      
      function displayAnswer()
      {
        if(answer>9)
        {
          var a1 = Math.floor(answer/10);
          var a0 = Math.floor(answer - a1*10);
              
          document.getElementById("a1").setAttribute("xlink:href","#"+n[a1]);
          document.getElementById("a0").setAttribute("xlink:href","#"+n[a0]);
        }
        else
        {
          document.getElementById("a0").setAttribute("xlink:href","#"+n[answer]);
        }
        
        document.getElementById("answer").setAttribute("class","c1");

        timerID = setTimeout(displayProblem,2000);
      }
      
    }();
  ]]>
  </script>
  
  <style type="text/css"><![CDATA[
    @import url('https://fonts.googleapis.com/css?family=Roboto:500,500i');

    .c1 {fill:#F15A25;stroke:#F8931E;stroke-width:8px;stroke-linejoin:round;}
    .c8 {fill:#18577A;stroke:#AEE0E9;stroke-width:8px;stroke-linejoin:round;}
    
    #operator, .operator {fill:#666;stroke:#333;stroke-width:8px;stroke-linejoin:round;}
  ]]>
  </style>
  
  <defs>
    <symbol id="zero" viewBox="0 0 270 360">
      <path id="0" d="M20 180c0-54.66 9.52-95.58 28.55-122.77 19.03-27.18 47.81-40.78 86.33-40.78 38.37 0 67.14 13.67 86.33 41 19.18 27.33 28.78 68.33 28.78 122.99s-9.52 95.48-28.55 122.44c-19.04 26.96-47.89 40.44-86.55 40.44-38.52 0-67.29-13.55-86.33-40.66-19.04-27.11-28.55-68-28.55-122.66z m66 0c0 38.66 3.89 66.74 11.67 84.22 7.78 17.48 20.18 26.22 37.22 26.22 17.03 0 29.48-8.81 37.33-26.44 7.85-17.63 11.78-45.62 11.78-83.99 0-38.51-3.93-66.51-11.78-83.99-7.85-17.48-20.3-26.22-37.33-26.22-17.04 0-29.44 8.7-37.22 26.11-7.78 17.41-11.67 45.44-11.67 84.11z"/>
    </symbol>
    <symbol id="one" viewBox="0 0 270 360">
      <path id="1" d="M113 339v-217.54h-75.99v-44.66h4.89c27.7 0 47.89-4.29 60.55-12.89 12.67-8.59 20.11-22.96 22.33-43.11h50.89v318.2h-62.66z"/>
    </symbol>
    <symbol id="two" viewBox="0 0 270 360">
      <path id="2" d="M20 339c0.29-28.44 6.37-52.55 18.22-72.33 11.85-19.78 32.89-39.81 63.11-60.11 4.59-3.11 11.26-7.41 20-12.89 40-25.63 60-50.29 60-73.99 0-14.07-4.22-25.18-12.67-33.33-8.44-8.15-20-12.22-34.66-12.22-16 0-28.33 5-37 15-8.67 10-13 24.26-13 42.77v2.67h-58.66c0-36.44 9.78-64.51 29.33-84.22 19.55-19.7 47.4-29.55 83.55-29.55 32.74 0 58.88 8.93 78.44 26.78 19.55 17.85 29.33 41.59 29.33 71.22 0 21.19-5.11 39.55-15.33 55.11-10.22 15.55-30 33.26-59.33 53.11-6.22 4.3-14.81 9.93-25.78 16.89-27.85 17.93-43.55 31.55-47.11 40.89h144.43v54.22h-222.87z"/>
    </symbol>
    <symbol id="three" viewBox="0 0 270 360">
      <path id="3" d="M23 238h61.11c0.15 17.78 4.44 31.15 12.89 40.11 8.44 8.96 20.96 13.44 37.55 13.44 16 0 28.33-4.18 37-12.55 8.67-8.37 13-20.41 13-36.11 0-15.7-5.08-27.59-15.22-35.66-10.15-8.07-25.22-12.11-45.22-12.11-1.04 0-2.63 0.08-4.78 0.22-2.15 0.15-3.74 0.22-4.78 0.22v-44h6.89c18.37 0 31.96-3.59 40.77-10.78 8.81-7.18 13.22-18.18 13.22-33 0-12.29-3.74-22.03-11.22-29.22-7.48-7.18-17.66-10.78-30.55-10.78-14.08 0-24.96 4.15-32.66 12.44-7.7 8.3-11.55 20.08-11.55 35.33v2.67h-60c0.74-32.59 10.33-57.59 28.78-75 18.44-17.4 44.48-26.11 78.11-26.11 31.85 0 57.11 7.78 75.77 23.33 18.66 15.55 28 36.52 28 62.88 0 13.93-3.19 26.15-9.55 36.66-6.37 10.52-15.93 19.19-28.67 26 16.29 7.11 28.63 16.93 37 29.44 8.37 12.52 12.55 27.44 12.55 44.77 0 31.85-10.44 57.11-31.33 75.77-20.89 18.67-49.41 28-85.55 28-35.7 0-63.22-9.08-82.55-27.22s-29-43.96-29-77.44v-1.33z"/>
    </symbol>
    <symbol id="four" viewBox="0 0 270 360">
      <path id="4" d="M150 335v-68.66h-134.21v-56l117.33-184.43h78.88v189.76h36.89v50.66h-36.89v68.66h-62z m1.33-117.77v-136.21l-86.44 136.21h86.44z"/>
    </symbol>
    <symbol id="five" viewBox="0 0 270 360">
      <path id="5" d="M25 245h62.22c1.03 13.93 5.7 24.7 14 32.33 8.29 7.63 19.4 11.44 33.33 11.44 17.18 0 30.33-5.03 39.44-15.11 9.11-10.07 13.67-24.52 13.67-43.33 0-17.63-4.67-31.52-14-41.66-9.33-10.14-22.22-15.22-38.66-15.22-9.19 0-17.26 1.85-24.22 5.56-6.96 3.7-12.89 9.19-17.78 16.44l-57.33-3.33 20.67-170.65h182.88v53.77h-137.99l-8.22 63.77c6.96-5.48 14.96-9.59 24-12.33 9.03-2.74 19.11-4.11 30.22-4.11 31.7 0 57.29 9.63 76.77 28.89 19.48 19.26 29.22 44.52 29.22 75.77 0 34.22-10.74 61.52-32.22 81.88-21.48 20.37-50.29 30.55-86.44 30.55-32.89 0-59.07-8.41-78.55-25.22-19.48-16.81-29.81-39.96-31-69.44z"/>
    </symbol>
    <symbol id="six" viewBox="0 0 270 360">
      <path id="6" d="M85 150c7.26-7.41 16-13 26.22-16.78 10.22-3.78 21.63-5.67 34.22-5.67 31.11 0 56.03 9.48 74.77 28.44 18.74 18.96 28.11 44.22 28.11 75.77 0 33.48-10.22 60.52-30.66 81.11-20.44 20.59-47.41 30.89-80.88 30.89-38.66 0-68.03-13.33-88.1-40-20.07-26.66-30.11-65.7-30.11-117.1 0-55.25 10.74-97.51 32.22-126.77 21.48-29.25 52.44-43.89 92.88-43.89 28.14 0 50.85 7.33 68.11 22 17.26 14.67 26.7 34.52 28.33 59.55h-64.44c-1.48-10.22-5.48-17.92-12-23.11-6.52-5.18-15.63-7.78-27.33-7.78-16 0-28.3 6.93-36.89 20.78-8.59 13.85-13.41 34.7-14.44 62.55z m0.89 83.11c0 18.22 4.56 32.66 13.67 43.33 9.11 10.67 21.52 16 37.22 16 14.67 0 26.14-5.18 34.44-15.55 8.29-10.37 12.44-24.81 12.44-43.33 0-17.03-4.3-30.29-12.89-39.77-8.59-9.48-20.67-14.22-36.22-14.22-15.26 0-27.19 4.74-35.78 14.22-8.59 9.48-12.89 22.59-12.89 39.33z"/>
    </symbol>
    <symbol id="seven" viewBox="0 0 270 360">
      <path id="7" d="M140 340h-66.44c2.37-43.4 12.85-86.44 31.44-129.1 18.59-42.66 45.14-84.58 79.66-125.77h-156.43v-54.22h225.54v47.77c-34.96 38.52-61.81 79.25-80.55 122.21-18.74 42.96-29.81 89.33-33.22 139.1z"/>
    </symbol>
    <symbol id="eight" viewBox="0 0 270 360">
      <path id="8" d="M70 168c-13.33-7.41-22.96-16.07-28.89-26-5.93-9.92-8.89-22.59-8.89-38 0-27.26 9.33-48.66 28-64.22 18.67-15.55 44.44-23.33 77.33-23.33 33.18 0 59.14 7.74 77.88 23.22 18.74 15.48 28.11 36.92 28.11 64.33 0 14.67-3.19 27.37-9.55 38.11-6.37 10.74-15.93 19.37-28.66 25.89 15.55 7.26 27.25 17.3 35.11 30.11 7.85 12.81 11.78 28.41 11.78 46.77 0 30.96-10.19 55.26-30.55 72.88-20.37 17.63-48.41 26.44-84.11 26.44-36.15 0-64.22-8.74-84.22-26.22-20-17.48-30-41.85-30-73.11 0-18.22 3.74-33.52 11.22-45.89 7.48-12.37 19.29-22.7 35.44-31z m17.78 74.66c0 15.55 4.33 27.55 13 36s21.07 12.67 37.22 12.67c15.41 0 27.52-4.29 36.33-12.89 8.81-8.59 13.22-20.52 13.22-35.78 0-14.67-4.52-26.44-13.55-35.33-9.04-8.89-21.04-13.33-36-13.33-14.96 0-27.07 4.52-36.33 13.55-9.26 9.04-13.89 20.74-13.89 35.11z m5.11-136.44c0 12.3 3.85 21.74 11.55 28.33 7.7 6.59 18.74 9.89 33.11 9.89 14.37 0 25.44-3.33 33.22-10 7.78-6.67 11.67-16.07 11.67-28.22 0-11.85-4-21.18-12-28-8-6.81-18.96-10.22-32.89-10.22-13.63 0-24.48 3.48-32.55 10.44-8.08 6.96-12.11 16.22-12.11 27.78z"/>
    </symbol>
    <symbol id="nine" viewBox="0 0 270 360">
      <path id="9" d="M185 210c-7.41 7.41-16.15 12.96-26.22 16.67-10.08 3.7-21.41 5.55-34 5.55-31.26 0-56.29-9.41-75.11-28.22-18.81-18.81-28.22-44-28.22-75.55 0-33.48 10.22-60.51 30.66-81.11 20.44-20.59 47.4-30.89 80.88-30.89 38.81 0 68.33 13.37 88.55 40.11 20.22 26.74 30.33 65.74 30.33 116.99 0 55.11-10.82 97.33-32.44 126.66-21.63 29.33-52.74 44-93.33 44-28 0-50.59-7.3-67.77-21.89-17.19-14.59-26.59-34.48-28.22-59.66l64.22 0.22c1.48 10.22 5.48 17.85 12 22.89 6.52 5.04 15.7 7.56 27.55 7.56 16 0 28.22-6.96 36.66-20.89 8.44-13.92 13.26-34.74 14.44-62.44z m-1.11-82.88c0-18.22-4.56-32.63-13.67-43.22-9.11-10.59-21.52-15.89-37.22-15.89-14.81 0-26.33 5.11-34.55 15.33-8.22 10.22-12.33 24.52-12.33 42.89 0 17.19 4.29 30.59 12.89 40.22 8.59 9.63 20.67 14.44 36.22 14.44 15.26 0 27.18-4.74 35.78-14.22 8.59-9.48 12.89-22.67 12.89-39.55z"/>
    </symbol>

    <symbol id="plus" viewBox="0 0 270 360">
      <path d="M110,95l50,0l0,60l55,0l0,50l-55,0l0,60l-50,0l0,-60l-55,0l0,-50l55,0z"/>
    </symbol>
    <symbol id="minus" viewBox="0 0 270 360">
      <path d="M65,155l140,0l0,50l-140,0z"/>
    </symbol>
    <symbol id="times" viewBox="0 0 270 360">
      <path d="M110,95l50,0l0,60l55,0l0,50l-55,0l0,60l-50,0l0,-60l-55,0l0,-50l55,0z" transform="rotate(45,135,180)"/>
    </symbol>
    <symbol id="divide" viewBox="0 0 270 360">
      <circle cx="135" cy="130" r="15" />
      <path d="M65,160l140,0l0,40l-140,0z"/>
      <circle cx="135" cy="230" r="15" />
    </symbol>

    <symbol id="nothing" viewBox="0 0 270 360">
      <path d="M0,0"/>
    </symbol>
  </defs>
  
  <g transform="translate(45,10)" class="c8">
    <use id="n11" x="0" y="0" width="90" height="120" xlink:href="#nothing" />
    <use id="n1" x="90" y="0" width="90" height="120" xlink:href="#nine" />
    <use id="n2" x="90" y="120" width="90" height="120" xlink:href="#five" />
    <use id="operator" x="0" y="120"  width="90" height="120" xlink:href="#plus" />
    
    <path d="M0,240l180,0" style="stroke:#666;stroke-width:4px;" />

    <g id="answer" class="c1">
      <use id="a1" x="0" y="240"  width="90" height="120" xlink:href="#one" />
      <use id="a0" x="90" y="240"  width="90" height="120" xlink:href="#four" />
    </g>
  </g>

  <g transform="translate(45,375)" class="operator">
    <use id="addition" x="0" y="0"  width="30" height="40" xlink:href="#plus" style="cursor:pointer;" />
    <use id="subtraction" x="50" y="0"  width="30" height="40" xlink:href="#minus" style="cursor:pointer;" />
    <use id="multiplication" x="100" y="0"  width="30" height="40" xlink:href="#times" style="cursor:pointer;" />
    <use id="division" x="150" y="0"  width="30" height="40" xlink:href="#divide" style="cursor:pointer;" />
    <rect id="operation" x="0" y="5" width="30" height="30" rx="3" style="fill:white;fill-opacity:0.01;stroke:red;stroke-width:1;" transform="translate(0,0)" />
  </g>

  <a xlink:href="http://steamcoded.org">
    <g id="credits" transform="translate(135,425) scale(0.2)" style="text-anchor:middle;fill:black;stroke:none;">
      <text x="2" y="2" style="font-size:40px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-style:italic;fill:#333333;stroke:#333333;stroke-width:0.5px;">STEAM<tspan style="font-variant:small-caps;">coded.org</tspan></text>
      <text x="0" y="0" style="font-size:40px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-style:italic;"><tspan style="fill:red;">S</tspan><tspan style="fill:orange;">T</tspan><tspan style="fill:lime;">E</tspan><tspan style="fill:#5555ff;">A</tspan><tspan style="fill:purple;">M</tspan><tspan style="fill:blue;font-variant:small-caps;">coded.org</tspan></text>
    </g>
  </a>   
  
  </svg>
